<project name="dispatcher" default="main" xmlns:if="ant:if">
	<property name="a" value="http://test-9/9/job/test-portal-fixpack(ee-6.2.10_6.2.10.9)/buildWithParameters" />
	<property name="b" value="http://test-10.lax.liferay.com/10/job/test-portal-fixpack(ee-6.2.10_6.2.10.1)/buildWithParameters" />
	<property name="c" value="http://test-11.lax.liferay.com/11/job/test-portal-fixpack(ee-6.2.10_6.2.10.1)/buildWithParameters" />
	<property name="d" value="http://test-12.lax.liferay.com/12/job/test-deprecated-portal-fixpack(ee-6.0.12..ee-6.2.10)/buildWithParameters" />
	
	<property name="jenkins.6.1" value="localhost:8080/job/compare/buildWithParameters" />
	<property name="jenkins.6.2" value="localhost:8080/job/compare/buildWithParameters" />
	<property name="jenkins.smoke.test" value="localhost:8080/job/compare/buildWithParameters" />
	
	<property name="host.name" value="http://mirrors/files.liferay.com/private/ee/fix-packs/" />
	<property name="test.build.fix.pack.zip.url" value="${host.name}${patcher.build.file.name}" />
		
	<target name="curl">
		<exec executable="curl">
			<arg value="-d" />
			<arg value="token=${token}" />
			<arg value="-d" />
			<arg value="test.build.fix.pack.zip.url=${test.build.fix.pack.zip.url}" />
			<arg value="-d" if:true="${is.smoke.test.only}" />
			<arg value="run.smoke.test.only=true" if:true="${is.smoke.test.only}" />
			<arg value="${jenkins.url}" />
		</exec>		
	</target>
	
	<target name="dispatcher">
		<if>
			<isfalse value="${run.smoke.test.only}" />
			<then>
				<if>
					<startswith string="${patcher.build.patcher.portal.version}" with="6.2" />
					<then>
						<antcall target="curl">
							<param name="jenkins.url" value="jenkins.6.2" />
							<param name="is.smoke.test.only" value="false" />
						</antcall>
					</then>
				</if>
			</then>
		</if>

		<if>
			<startswith string="${patcher.build.patcher.portal.version}" with="6.1" />
			<then>
				<if>
				</if>
			</then>
		</if>
		
		<antcall target="curl">
			<param name="jenkins.url" value="${jenkins.smoke.test}" />
			<param name="is.smoke.test.only" value="true" />
		</antcall>
	</target>
	


	<target name="main" depends="dispatcher" />
</project>